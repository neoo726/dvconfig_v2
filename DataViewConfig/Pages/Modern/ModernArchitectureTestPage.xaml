<UserControl x:Class="DataViewConfig.Pages.Modern.ModernArchitectureTestPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="600" d:DesignWidth="1000">

    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- æ ‡é¢˜åŒºåŸŸ -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
            <TextBlock Text="ðŸš€ æ–°æž¶æž„æµ‹è¯•é¡µé¢" FontSize="24" FontWeight="Bold" Foreground="#2E86AB"/>
            <TextBlock Text="Repositoryæ¨¡å¼ + çŽ°ä»£åŒ–å‘½ä»¤ç³»ç»Ÿ" FontSize="14" Foreground="#666" Margin="20,5,0,0"/>
        </StackPanel>

        <!-- åŠŸèƒ½æµ‹è¯•åŒºåŸŸ -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,20">
            <Button Content="ðŸ§ª æµ‹è¯•Repository"
                    Command="{Binding TestRepositoryCommand}"
                    Margin="0,0,10,0"
                    Padding="15,8"/>

            <Button Content="ðŸ“Š åŠ è½½æ ‡ç­¾æ•°æ®"
                    Command="{Binding LoadTagDataCommand}"
                    Margin="0,0,10,0"
                    Padding="15,8"/>

            <Button Content="ðŸ–¼ï¸ åŠ è½½ç”»é¢æ•°æ®"
                    Command="{Binding LoadScreenDataCommand}"
                    Margin="0,0,10,0"
                    Padding="15,8"/>

            <Button Content="ðŸ—ï¸ åŠ è½½å †åœºæ•°æ®"
                    Command="{Binding LoadBlockDataCommand}"
                    Margin="0,0,10,0"
                    Padding="15,8"/>

            <Button Content="ðŸ”„ åˆ·æ–°å…¨éƒ¨"
                    Command="{Binding RefreshAllCommand}"
                    Padding="15,8"/>
        </StackPanel>

        <!-- ä¸»è¦å†…å®¹åŒºåŸŸ -->
        <Grid Grid.Row="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- å·¦ä¾§ï¼šçŠ¶æ€å’Œæ—¥å¿— -->
            <GroupBox Grid.Column="0" Header="ðŸ“‹ ç³»ç»ŸçŠ¶æ€">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!-- çŠ¶æ€ä¿¡æ¯ -->
                    <StackPanel Grid.Row="0" Margin="0,0,0,10">
                        <TextBlock Text="å½“å‰çŠ¶æ€:" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding StatusMessage}"
                                   Foreground="{Binding StatusColor}"
                                   FontSize="14"/>
                    </StackPanel>

                    <!-- ç»Ÿè®¡ä¿¡æ¯ -->
                    <StackPanel Grid.Row="2" Margin="0,0,0,10">
                        <TextBlock Text="æ•°æ®ç»Ÿè®¡:" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding TagCount, StringFormat='æ ‡ç­¾æ•°é‡: {0}'}" Margin="0,2"/>
                        <TextBlock Text="{Binding ScreenCount, StringFormat='ç”»é¢æ•°é‡: {0}'}" Margin="0,2"/>
                        <TextBlock Text="{Binding BlockCount, StringFormat='å †åœºæ•°é‡: {0}'}" Margin="0,2"/>
                    </StackPanel>

                    <!-- æ“ä½œæ—¥å¿— -->
                    <GroupBox Grid.Row="3" Header="ðŸ“ æ“ä½œæ—¥å¿—">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <ItemsControl ItemsSource="{Binding LogMessages}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}"
                                                   FontFamily="Consolas"
                                                   FontSize="12"
                                                   Margin="0,1"
                                                   TextWrapping="Wrap"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </ScrollViewer>
                    </GroupBox>
                </Grid>
            </GroupBox>

            <!-- åˆ†éš”çº¿ -->
            <GridSplitter Grid.Column="1"
                          HorizontalAlignment="Stretch"
                          VerticalAlignment="Stretch"
                          Background="#E0E0E0"/>

            <!-- å³ä¾§ï¼šæ•°æ®å±•ç¤º -->
            <GroupBox Grid.Column="2" Header="ðŸ“Š æ•°æ®å±•ç¤º">
                <TabControl>
                    <!-- æ ‡ç­¾æ•°æ® -->
                    <TabItem Header="ðŸ·ï¸ æ ‡ç­¾">
                        <DataGrid ItemsSource="{Binding TagSampleData}"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding Id}" Width="60"/>
                                <DataGridTextColumn Header="å†…éƒ¨åç§°" Binding="{Binding TagInternalName}" Width="150"/>
                                <DataGridTextColumn Header="æ˜¾ç¤ºåç§°" Binding="{Binding TagName}" Width="120"/>
                                <DataGridTextColumn Header="æè¿°" Binding="{Binding Desc}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>

                    <!-- ç”»é¢æ•°æ® -->
                    <TabItem Header="ðŸ–¼ï¸ ç”»é¢">
                        <DataGrid ItemsSource="{Binding ScreenSampleData}"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding dv_screen_id}" Width="60"/>
                                <DataGridTextColumn Header="å†…éƒ¨åç§°" Binding="{Binding dv_screen_internal_name}" Width="150"/>
                                <DataGridTextColumn Header="CSWæ–‡ä»¶" Binding="{Binding dv_screen_csw_name}" Width="120"/>
                                <DataGridTextColumn Header="ç±»åž‹" Binding="{Binding dv_screen_type}" Width="80"/>
                                <DataGridTextColumn Header="æè¿°" Binding="{Binding dv_screen_desc}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>

                    <!-- å †åœºæ•°æ® -->
                    <TabItem Header="ðŸ—ï¸ å †åœº">
                        <DataGrid ItemsSource="{Binding BlockSampleData}"
                                  AutoGenerateColumns="False"
                                  IsReadOnly="True">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="ID" Binding="{Binding BlockID}" Width="60"/>
                                <DataGridTextColumn Header="åç§°" Binding="{Binding BlockName}" Width="120"/>
                                <DataGridTextColumn Header="æœ€å°ä½ç½®" Binding="{Binding BlockMinPos}" Width="80"/>
                                <DataGridTextColumn Header="æœ€å¤§ä½ç½®" Binding="{Binding BlockMaxPos}" Width="80"/>
                                <DataGridTextColumn Header="æè¿°" Binding="{Binding BlockDesc}" Width="*"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </TabItem>
                </TabControl>
            </GroupBox>
        </Grid>
    </Grid>
</UserControl>